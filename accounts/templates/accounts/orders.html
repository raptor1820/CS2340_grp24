{% extends 'base.html' %} {% block content %}
<div class="p-3 fix-min-ht">
    <div class="container">
        <div class="row mt-3">
            <div class="col mx-auto mb-3">
                <h2 class="text-white mb-5">My Orders</h2>
                {% for order in template_data.orders %}
                <div class="card mb-4 text-white background-black">
                    <div class="card-header pt-3 pb-3 background-black">Order #{{ order.id }}</div>
                    <div class="card-body background-black">
                        <b>Date:</b> {{ order.date }}<br />
                        <b>Total:</b> ${{ order.total }}<br />
                        <table
                            class="table table-bordered table-striped text-center mt-3">
                            <thead>
                                <tr>
                                    <th scope="col" class="text-white bg-dark">Item ID</th>
                                    <th scope="col" class="text-white bg-dark">Movie</th>
                                    <th scope="col" class="text-white bg-dark">Price</th>
                                    <th scope="col" class="text-white bg-dark">Quantity</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in order.item_set.all %}
                                <tr>
                                    <td class="text-white bg-dark">{{ item.movie.id }}</td>
                                    <td class="bg-dark">
                                        <a
                                            class="link-light"
                                            href="{% url 'movies.show' id=item.movie.id %}">
                                            {{ item.movie.name }}
                                        </a>
                                    </td>
                                    <td class="text-white bg-dark">${{ item.movie.price }}</td>
                                    <td class="text-white bg-dark">{{ item.quantity }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}
